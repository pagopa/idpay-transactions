spring:
  application:
    name: idpay-transactions
  config:
    activate:
      on-profile: default
  cloud:
    stream:
      function:
        definition: rewardTrxConsumer
      bindings:
        rewardTrxConsumer-in-0:
          destination: ${KAFKA_TOPIC_REWARD_TRX:}
          group: ${KAFKA_IDPAY_GROUP:}
          content-type: ${KAFKA_CONTENT_TYPE:}
          binder: kafka
      kafka:
        binder:
          auto-create-topics: ${KAFKA_TRANSACTIONS_BINDER_AUTO_CREATE_TOPIC:false}
          brokers: ${KAFKA_BINDER_BROKER_ENDPOINT_REWARD_TRX:}
          configuration:
            heartbeat.interval.ms: ${KAFKA_TRANSACTIONS_BINDER_CONFIGURATION_HEARTBEAT_INTERVAL_MS:30000}
            session.timeout.ms: ${KAFKA_TRANSACTIONS_BINDER_CONFIGURATION_SESSION_TIMEOUT_MS:60000}
            sasl:
              jaas:
                config: ${EVH_CONNECTION_REWARD_RESPONSE:}
              mechanism: ${KAFKA_TRANSACTIONS_SASL_MECHANISM:PLAIN}
            security:
              protocol: ${KAFKA_TRANSACTIONS_SECURITY_PROTOCOL:SASL_SSL}
          consumerProperties:
            socket:
              connection:
                setup:
                  timeout:
                    max:
                      ms: ${KAFKA_TRANSACTIONS_CONNECTION_TIMEOUT_MAX_MS:200000}
                    ms: ${KAFKA_TRANSACTIONS_CONNECTION_TIMEOUT_MS:100000}
            connections:
              max:
                idle:
                  ms: ${KAFKA_TRANSACTIONS_CONNECTIONS_MAX_IDLE_MS:300000}
  data:
    mongodb:
      uri: ${MONGODB_URI}
      database: ${MONGODB_DBNAME}

